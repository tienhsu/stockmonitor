# 🎉 新功能使用指南

## ✅ 已实现的三大功能

### 1. 📺 自动轮播功能

**功能说明**：
- 当股票数量 > 显示行数时，自动按设定间隔切换显示的股票
- 例如：有5只股票，显示3行，每5秒自动滚动显示下3只

**如何启用**：

1. **打开设置窗口**
   - 右键悬浮窗 → 设置
   - 或系统托盘 → 右键 → 设置

2. **在"外观"标签页中**：
   - ✅ 勾选"启用自动轮播"
   - 设置"轮播间隔"（1-60秒，默认5秒）
   - 设置会自动保存

3. **效果**：
   - 悬浮窗会每隔N秒自动切换到下一组股票
   - 到底部后会自动循环回到顶部
   - 可以随时通过快捷键 `Alt + J/K` 手动切换

**注意事项**：
- 只有当股票数量 > 显示行数时，轮播才会生效
- 例如：3只股票显示3行 → 不会轮播
- 例如：5只股票显示3行 → 会轮播

---

### 2. 🖱️ 窗口拖动功能

**功能说明**：
- 悬浮窗可以通过鼠标拖动到屏幕任意位置
- 鼠标移到窗口上会显示"移动"光标

**如何使用**：
1. 将鼠标移到悬浮窗口上
2. 按住鼠标左键不放
3. 拖动到想要的位置
4. 松开鼠标

**故障排查**：
- 如果无法拖动，检查是否开启了"鼠标穿透模式"
- 鼠标穿透模式下窗口无法响应鼠标操作
- 在设置 → 外观中关闭"鼠标穿透模式"

---

### 3. 🚫 文字不可选择

**功能说明**：
- 悬浮窗中的文字无法被选中
- 避免误操作时选中文字影响美观
- 确保拖动窗口时不会误选文字

**技术实现**：
- CSS 设置了 `user-select: none`
- 所有文本元素都不可选择
- 不影响窗口的其他交互功能

---

## 🎯 完整配置示例

### 推荐配置（显示3只股票 + 轮播）

```bash
# 方法1：通过设置窗口配置（推荐）
1. 打开设置窗口
2. 在"自选股"标签：
   - 添加股票：600519（茅台）
   - 添加股票：000001（平安银行）
   - 添加股票：600036（招商银行）
   - 添加股票：000858（五粮液）
   - 添加股票：601318（中国平安）

3. 在"外观"标签：
   - 显示行数：3
   - ✅ 启用自动轮播
   - 轮播间隔：5秒

4. 效果：
   - 窗口显示3只股票
   - 每5秒自动切换显示下一组
   - 5只股票会循环轮播
```

### 方法2：直接修改配置文件

```bash
# 备份当前配置
cp ~/Library/Application\ Support/com.wolf.stealth-stock-monitor/config.json{,.backup}

# 编辑配置文件
nano ~/Library/Application\ Support/com.wolf.stealth-stock-monitor/config.json
```

修改以下字段：
```json
{
  "window": {
    "display_rows": 3,
    "enable_carousel": true,
    "carousel_interval_ms": 5000
  },
  "stocks": [
    {"id": "sh600519", "code": "600519", "market": "sh", "alias": "茅台", "visible": true},
    {"id": "sz000001", "code": "000001", "market": "sz", "alias": "平安银行", "visible": true},
    {"id": "sh600036", "code": "600036", "market": "sh", "alias": "招商银行", "visible": true},
    {"id": "sz000858", "code": "000858", "market": "sz", "alias": "五粮液", "visible": true},
    {"id": "sh601318", "code": "601318", "market": "sh", "alias": "中国平安", "visible": true}
  ]
}
```

保存后重启应用。

---

## ⌨️ 所有快捷键

| 功能 | 快捷键 | 说明 |
|------|--------|------|
| 显示/隐藏窗口 | `Cmd + Shift + S` (Mac)<br>`Ctrl + Shift + S` (Win) | 按一次隐藏，再按一次显示 |
| 下一只股票 | `Alt + J` | 向下滚动查看下一只股票 |
| 上一只股票 | `Alt + K` | 向上滚动查看上一只股票 |

**修改快捷键**：
- 设置窗口 → "快捷键"标签
- 点击输入框 → 按下新组合键
- 自动保存

---

## 🎨 窗口交互方式

1. **拖动窗口**：鼠标左键按住拖动
2. **右键菜单**：右键点击弹出菜单
   - 刷新：立即刷新数据
   - 设置：打开设置窗口
   - 隐藏：隐藏悬浮窗
   - 退出：关闭应用
3. **系统托盘**：
   - 左键点击：显示/隐藏窗口
   - 右键点击：打开托盘菜单

---

## 📊 轮播效果演示

假设配置如下：
- 5只股票：茅台、平安、招行、五粮液、中国平安
- 显示3行
- 轮播间隔5秒

**显示效果**：
```
时间 0s:  茅台、平安、招行
时间 5s:  平安、招行、五粮液
时间 10s: 招行、五粮液、中国平安
时间 15s: 五粮液、中国平安、茅台
时间 20s: 中国平安、茅台、平安
时间 25s: 茅台、平安、招行  ← 循环
```

---

## 🔧 常见问题

### Q1: 轮播不工作？
**检查**：
1. 是否勾选了"启用自动轮播"
2. 股票数量是否 > 显示行数
3. 查看浏览器控制台是否有错误

### Q2: 窗口无法拖动？
**解决**：
1. 检查是否开启了"鼠标穿透模式"
2. 在设置中关闭"鼠标穿透模式"
3. 重启应用

### Q3: 如何暂停轮播？
**方法**：
1. 打开设置窗口
2. 取消勾选"启用自动轮播"
3. 或使用快捷键手动切换（`Alt + J/K`）

### Q4: 轮播速度太快/太慢？
**调整**：
1. 设置窗口 → 外观标签
2. 修改"轮播间隔"数值（1-60秒）
3. 自动保存并立即生效

---

## 🚀 下一步

现在您可以：
1. ✅ 添加更多股票到自选列表
2. ✅ 调整显示行数和轮播间隔
3. ✅ 自定义快捷键
4. ✅ 调整窗口透明度和颜色
5. ✅ 拖动窗口到合适位置

享受您的股票监控体验！📈
